<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Guitar Chord Highlighter</title>
  <meta name="description" content="Guitar Chord Highlighter">
  <link rel=”favicon” type=”image/png” href=”/favicon.ico” />
  <link rel="stylesheet" href="css/fretboard.css">
  <script type="text/javascript" src="js/guitar.js"></script>
  <script type="text/javascript" src="js/getNotesInChord.js"></script>
  <script type="text/javascript" src="js/keyboardCommands.js"></script>

</head>

<body>
<div id="fretboard" class="_gf_fretboard simple">
  <ul>
    <li data-string="0" data-fret="0" data-note="E"></li>
    <li data-string="0" data-fret="1" data-note="F"></li>
    <li data-string="0" data-fret="2" data-note="F#"></li>
    <li data-string="0" data-fret="3" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="0" data-fret="4" data-note="G#"></li>
    <li data-string="0" data-fret="5" data-note="A"></li>
    <li data-string="0" data-fret="6" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="0" data-fret="7" data-note="B"></li>
    <li data-string="0" data-fret="8" data-note="C"></li>
    <li data-string="0" data-fret="9" data-note="C#"></li>
    <li data-string="0" data-fret="10" data-note="D"></li>
    <li data-string="0" data-fret="11" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="0" data-fret="12" data-note="E"></li>
    <li data-string="0" data-fret="13" data-note="F"></li>
    <li data-string="0" data-fret="14" data-note="F#"></li>
    <li data-string="0" data-fret="15" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="0" data-fret="16" data-note="G#"></li>
    <li data-string="0" data-fret="17" data-note="A"></li>
    <li data-string="0" data-fret="18" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
  </ul>
  <ul>
    <li data-string="1" data-fret="0" data-note="B"></li>
    <li data-string="1" data-fret="1" data-note="C"></li>
    <li data-string="1" data-fret="2" data-note="C#"></li>
    <li data-string="1" data-fret="3" data-note="D"></li>
    <li data-string="1" data-fret="4" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="1" data-fret="5" data-note="E"></li>
    <li data-string="1" data-fret="6" data-note="F"></li>
    <li data-string="1" data-fret="7" data-note="F#"></li>
    <li data-string="1" data-fret="8" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="1" data-fret="9" data-note="G#"></li>
    <li data-string="1" data-fret="10" data-note="A"></li>
    <li data-string="1" data-fret="11" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="1" data-fret="12" data-note="B"></li>
    <li data-string="1" data-fret="13" data-note="C"></li>
    <li data-string="1" data-fret="14" data-note="C#"></li>
    <li data-string="1" data-fret="15" data-note="D"></li>
    <li data-string="1" data-fret="16" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="1" data-fret="17" data-note="E"></li>
    <li data-string="1" data-fret="18" data-note="F"></li>
  </ul>
  <ul>
    <li data-string="2" data-fret="0" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="2" data-fret="1" data-note="G#"></li>
    <li data-string="2" data-fret="2" data-note="A"></li>
    <li data-string="2" data-fret="3" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="2" data-fret="4" data-note="B"></li>
    <li data-string="2" data-fret="5" data-note="C"></li>
    <li data-string="2" data-fret="6" data-note="C#"></li>
    <li data-string="2" data-fret="7" data-note="D"></li>
    <li data-string="2" data-fret="8" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="2" data-fret="9" data-note="E"></li>
    <li data-string="2" data-fret="10" data-note="F"></li>
    <li data-string="2" data-fret="11" data-note="F#"></li>
    <li data-string="2" data-fret="12" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="2" data-fret="13" data-note="G#"></li>
    <li data-string="2" data-fret="14" data-note="A"></li>
    <li data-string="2" data-fret="15" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="2" data-fret="16" data-note="B"></li>
    <li data-string="2" data-fret="17" data-note="C"></li>
    <li data-string="2" data-fret="18" data-note="C#"></li>
  </ul>
  <ul>
    <li data-string="3" data-fret="0" data-note="D"></li>
    <li data-string="3" data-fret="1" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="3" data-fret="2" data-note="E"></li>
    <li data-string="3" data-fret="3" data-note="F">
      <span class="fretMarker"></span>
    </li>
    <li data-string="3" data-fret="4" data-note="F#"></li>
    <li data-string="3" data-fret="5" data-note="G">
      <span class="fretMarker"></span>
      <span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="3" data-fret="6" data-note="G#"></li>
    <li data-string="3" data-fret="7" data-note="A">
      <span class="fretMarker"></span>
    </li>
    <li data-string="3" data-fret="8" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="3" data-fret="9" data-note="B">
      <span class="fretMarker"></span>
    </li>
    <li data-string="3" data-fret="10" data-note="C"></li>
    <li data-string="3" data-fret="11" data-note="C#"></li>
    <li data-string="3" data-fret="12" data-note="D">
      <span class="fretMarker"></span>
      <span class="fretMarker"></span>
    </li>
    <li data-string="3" data-fret="13" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="3" data-fret="14" data-note="E">
      <span class="fretMarker"></span>
      <span class="fretMarker"></span>
    </li>
    <li data-string="3" data-fret="15" data-note="F"></li>
    <li data-string="3" data-fret="16" data-note="F#"></li>
    <li data-string="3" data-fret="17" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="3" data-fret="18" data-note="G#"></li>
  </ul>
  <ul>
    <li data-string="4" data-fret="0" data-note="A"></li>
    <li data-string="4" data-fret="1" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="4" data-fret="2" data-note="B"></li>
    <li data-string="4" data-fret="3" data-note="C"></li>
    <li data-string="4" data-fret="4" data-note="C#"></li>
    <li data-string="4" data-fret="5" data-note="D"></li>
    <li data-string="4" data-fret="6" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="4" data-fret="7" data-note="E"></li>
    <li data-string="4" data-fret="8" data-note="F"></li>
    <li data-string="4" data-fret="9" data-note="F#"></li>
    <li data-string="4" data-fret="10" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="4" data-fret="11" data-note="G#"></li>
    <li data-string="4" data-fret="12" data-note="A"></li>
    <li data-string="4" data-fret="13" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="4" data-fret="14" data-note="B"></li>
    <li data-string="4" data-fret="15" data-note="C"></li>
    <li data-string="4" data-fret="16" data-note="C#"></li>
    <li data-string="4" data-fret="17" data-note="D"></li>
    <li data-string="4" data-fret="18" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
  </ul>
  <ul>
    <li data-string="5" data-fret="0" data-note="E"></li>
    <li data-string="5" data-fret="1" data-note="F"></li>
    <li data-string="5" data-fret="2" data-note="F#"></li>
    <li data-string="5" data-fret="3" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="5" data-fret="4" data-note="G#"></li>
    <li data-string="5" data-fret="5" data-note="A"></li>
    <li data-string="5" data-fret="6" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
    <li data-string="5" data-fret="7" data-note="B"></li>
    <li data-string="5" data-fret="8" data-note="C"></li>
    <li data-string="5" data-fret="9" data-note="C#"></li>
    <li data-string="5" data-fret="10" data-note="D"></li>
    <li data-string="5" data-fret="11" data-note="Eb"><span class="root" data-note="Eb" data-interval="1"></span></li>
    <li data-string="5" data-fret="12" data-note="E"></li>
    <li data-string="5" data-fret="13" data-note="F"></li>
    <li data-string="5" data-fret="14" data-note="F#"></li>
    <li data-string="5" data-fret="15" data-note="G"><span class="third" data-note="G" data-interval="3"></span></li>
    <li data-string="5" data-fret="16" data-note="G#"></li>
    <li data-string="5" data-fret="17" data-note="A"></li>
    <li data-string="5" data-fret="18" data-note="Bb"><span class="fifth" data-note="Bb" data-interval="5"></span></li>
  </ul>
  <div id="_gf_controls">
    <button id="previous" onclick="fretboard.prev()">Prev</button>
    <button id="stop" onclick="fretboard.stop()">Stop</button>
    <button id="play" onclick="fretboard.play()">play</button>
    <button id="pause" onclick="fretboard.pause()">Pause</button>
    <button id="next"onclick="fretboard.next()">Next</button>
    <button id="clear" onclick="fretboard.clear()">Clear</button>
  </div>
</div>



  <div id="timer"></div>
<div id="output"></div>
</p>

  

  <script>
    var root = '';
    var accidental = '';
    var quality = ''
    var extension = '';
    var alteredTones = '';
 document.addEventListener('keydown', function (event) {
    //back and next
    if (event.key == "ArrowLeft") {
      // go to previous chord
      
    }
    if (event.key == "ArrowLeft") {
      // go to previous chord
      
    }

    if (root.length){
      if (event.key.match(/m/)) {
        quality = event.key;
        startTimer();
      }
      if (event.key.match(/7|9/)) {
        extension = event.key;
        startTimer();
      }
    }
    if (root.length){
      //accidental
      if (event.key.match(/#|b/)) {
        accidental = event.key;
        startTimer();
      }
    } else{
      //root
      if (event.key.length == 1 && event.key.match(/[a-g]/i)) {
          //clear previous chord and redraw new chord
          root = event.key.toUpperCase();
          startTimer();
      }
    }

    var chord = root + accidental + quality + extension;
    document.getElementById('output').innerText = chord;
    
    });

    function startTimer(){
      //document.getElementById('timer').innerText = '*';
      if (timer){clearInterval(timer);}
      timer = setTimeout(stopTimer,3000);
    }
    function stopTimer(){
      clearInterval(timer);
      //document.getElementById('timer').innerText = '';
      root = '';
      accidental = '';
      quality = ''
      extension = '';
      alteredTones = '';
      //document.getElementById('output').innerText = '';
    }
    
  </script>
</body>

</html>
